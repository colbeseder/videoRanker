<html>
	<head>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
		<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.2.0/superhero/bootstrap.min.css" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.6/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<style>
			thead {
				background-color: #ebebeb;
				color: #4e5d6c;
			}
		</style>
	<head>
	<body ng-app="ngDisplay" ng-controller="displayCtrl">
		<div class="panel panel-default">
		  <!-- Default panel contents -->
		  <div class="panel-heading">Results</div>
		  <div class="panel-body">
			<p>Score for each second:</p>
		  </div>

		  <!-- Table -->
		  <table class="table">
				<thead><th>Username</th><th>VIDEO</th><th ng-repeat="y in data[1].score track by $index">{{$index + 1}}</th></thead>
				<tr ng-repeat="l in data"><td>{{l.username}}</td><td>{{trimPath(l.video)}}</td><td ng-repeat="x in l.score track by $index">{{x}}</td></tr>
			</table>
		</div>
		<script>
			var app = angular.module('ngDisplay', []);
			var dispScope;
			app.controller('displayCtrl', function ($scope, $http) {
				$scope.trimPath = function(x){
					return x.replace(/^.*\//, '');
				};
				$http.get('data').then(function (res) {
					$scope.data = res.data.map(function(x){
						try{
							return JSON.parse(x);
						}
						catch(er){
							return x;
						}
					});
				});
			});
		</script>
	</body>
</html>